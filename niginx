ec2に接続。

shhで接続。ppmで
インストールはaws専用のコマンドで行う.(amazon-linux-extras)
https://qiita.com/zushi_0905/items/1be42dc704d65f8a4ff7
service nginx start

amazon-linux-extras 

/etc/nginx/nginx.conf
/etc/php-fmp/www.conf　の設定をする

nginxとphp-fpmはsockを使用して通信しています。
再起動する
https://qiita.com/Yuhkih/items/2b26f3761578637d0005

root　を　/ にします。(phpinfoを確認する)

composerをインストール
https://qiita.com/zushi_0905/items/1be42dc704d65f8a4ff7

git clone で入れる 
/barkey_tokyo_server/publicにする

phpをインストール後(amazon-linux-extras)は、普通のコマンドでインストールできる
https://qiita.com/owlbeck/items/20f3e5402cb782f6291e

compserのインストールし、キー関係もやる
https://qiita.com/masataka715/items/6e46f1f5e53bdff6cd3d

RDSはサブネット系から以下のサイトで作成する。
https://qiita.com/minato-naka/items/03f9dbd09eb3919a501f

作成後普通にエンドポイントを指定して作成する
mysql -u root -p -h example-rds-mysql-server.carvmoii2uds.ap-northeast-1.rds.amazonaws.com
mysql -u admin -p -h database-1.c4vrm26rsxzg.ap-northeast-1.rds.amazonaws.com

テーブルを作成後、.envで指定すれば完了。あ、マイグレージョンも実行しよう


TOP以外のページが表示されない。
以下のサイトを参考にする。もっとnginxを勉強しないと厳しい。
https://qiita.com/maip0902/items/2fae4944e0115b40dcdc

サーバーは再起動するとnginx非可動になるので注意が必要。

S3ユーザーを作成し、アクセスキーとシークレットキーを発行して
.envに登録するあとcomposerもインストール
https://github.com/thephpleague/flysystem-aws-s3-v3




